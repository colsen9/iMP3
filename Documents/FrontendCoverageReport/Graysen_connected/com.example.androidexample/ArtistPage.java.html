<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ArtistPage.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">debug</a> &gt; <a href="index.source.html" class="el_package">com.example.androidexample</a> &gt; <span class="el_source">ArtistPage.java</span></div><h1>ArtistPage.java</h1><pre class="source lang-java linenums">package com.example.androidexample;

import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.os.Bundle;
import android.text.TextUtils;
import android.util.Base64;
import android.util.LruCache;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import com.android.volley.Request;
import com.android.volley.RequestQueue;
import com.android.volley.toolbox.ImageLoader;
import com.android.volley.toolbox.JsonArrayRequest;
import com.android.volley.toolbox.JsonObjectRequest;
import com.android.volley.toolbox.NetworkImageView;
import com.android.volley.toolbox.Volley;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import java.util.HashMap;
import java.util.Map;

<span class="nc" id="L36">public class ArtistPage extends AppCompatActivity {</span>
<span class="nc" id="L37">    private final String baseUrl = &quot;http://coms-3090-027.class.las.iastate.edu:8080&quot;;</span>
    private RequestQueue requestQueue;
    private Button btnReturn;
    private ImageLoader imageLoader;
    private int artistId, userId;
    private ImageView artistImage;
    private TextView artistName, artistYears, artistBio;
    private LinearLayout albumContainer, songContainer;
<span class="nc" id="L45">    private final Map&lt;Integer, String&gt; artistCache = new HashMap&lt;&gt;();</span>

    @Override
    protected void onCreate(Bundle savedInstanceState) {
<span class="nc" id="L49">        super.onCreate(savedInstanceState);</span>
<span class="nc" id="L50">        setContentView(R.layout.artist_page);</span>

        // Initialize UI
<span class="nc" id="L53">        artistImage = findViewById(R.id.artistImage);</span>
<span class="nc" id="L54">        artistName = findViewById(R.id.artistName);</span>
<span class="nc" id="L55">        artistYears = findViewById(R.id.artistYears);</span>
<span class="nc" id="L56">        artistBio = findViewById(R.id.artistBio);</span>
<span class="nc" id="L57">        albumContainer = findViewById(R.id.albumContainer);</span>
<span class="nc" id="L58">        songContainer = findViewById(R.id.songContainer);</span>
<span class="nc" id="L59">        btnReturn = findViewById(R.id.btnReturn);</span>

        // Init Volley queue and image loader (same as MusicCatalogue)
<span class="nc" id="L62">        requestQueue = Volley.newRequestQueue(this);</span>
<span class="nc" id="L63">        imageLoader = new ImageLoader(requestQueue, new ImageLoader.ImageCache() {</span>
<span class="nc" id="L64">            private final LruCache&lt;String, Bitmap&gt; cache = new LruCache&lt;&gt;(30);</span>
<span class="nc" id="L65">            @Override public Bitmap getBitmap(String url) { return cache.get(url); }</span>
<span class="nc" id="L66">            @Override public void putBitmap(String url, Bitmap bitmap) { cache.put(url, bitmap); }</span>
        });

        // Get artistId and userId
<span class="nc" id="L70">        Intent intent = getIntent();</span>
<span class="nc" id="L71">        artistId = intent.getIntExtra(&quot;artistId&quot;, -1);</span>
<span class="nc" id="L72">        userId = intent.getIntExtra(&quot;userId&quot;, -1);</span>

<span class="nc bnc" id="L74" title="All 2 branches missed.">        if (artistId != -1) fetchArtistInfo(artistId);</span>
<span class="nc" id="L75">        else Toast.makeText(this, &quot;Invalid artist&quot;, Toast.LENGTH_SHORT).show();</span>

<span class="nc" id="L77">        btnReturn.setOnClickListener(v -&gt; {</span>
<span class="nc" id="L78">            Intent resultIntent = new Intent();</span>
<span class="nc" id="L79">            resultIntent.putExtra(&quot;userId&quot;, userId);</span>
<span class="nc" id="L80">            setResult(RESULT_OK, resultIntent);</span>
<span class="nc" id="L81">            finish();</span>
<span class="nc" id="L82">        });</span>
<span class="nc" id="L83">    }</span>

    /** Fetch artist info from backend **/
    private void fetchArtistInfo(int artistId) {
<span class="nc" id="L87">        String url = baseUrl + &quot;/music/artists/&quot; + artistId;</span>
<span class="nc" id="L88">        Log.d(&quot;ArtistPage&quot;, &quot;Fetching artist info: &quot; + url);</span>

<span class="nc" id="L90">        JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url, null,</span>
                response -&gt; {
<span class="nc" id="L92">                    Log.d(&quot;ArtistPage&quot;, &quot;Artist JSON response: &quot; + response.toString());</span>

                    // Name and bio
<span class="nc" id="L95">                    artistName.setText(response.optString(&quot;name&quot;, &quot;Unknown Artist&quot;));</span>
<span class="nc" id="L96">                    artistBio.setText(response.optString(&quot;bio&quot;, &quot;No biography available.&quot;));</span>

<span class="nc" id="L98">                    loadArtistPicture(response.optString(&quot;picture&quot;, null), artistImage);</span>

                    // Years (List&lt;Integer&gt; -&gt; JSON array)
<span class="nc" id="L101">                    JSONArray yearsArray = response.optJSONArray(&quot;years&quot;);</span>
<span class="nc bnc" id="L102" title="All 4 branches missed.">                    if (yearsArray != null &amp;&amp; yearsArray.length() &gt; 0) {</span>
<span class="nc" id="L103">                        StringBuilder yearsStr = new StringBuilder();</span>
<span class="nc bnc" id="L104" title="All 2 branches missed.">                        for (int i = 0; i &lt; yearsArray.length(); i++) {</span>
<span class="nc" id="L105">                            yearsStr.append(yearsArray.optInt(i));</span>
<span class="nc bnc" id="L106" title="All 2 branches missed.">                            if (i &lt; yearsArray.length() - 1) yearsStr.append(&quot;, &quot;);</span>
                        }
<span class="nc" id="L108">                        artistYears.setText(&quot;Years Active: &quot; + yearsStr);</span>
<span class="nc" id="L109">                    } else {</span>
<span class="nc" id="L110">                        artistYears.setText(&quot;Years Active: N/A&quot;);</span>
                    }

                    // Albums, tracks, tags
<span class="nc" id="L114">                    JSONArray albumIds = response.optJSONArray(&quot;albumIds&quot;);</span>
<span class="nc" id="L115">                    JSONArray trackIds = response.optJSONArray(&quot;trackIds&quot;);</span>
<span class="nc" id="L116">                    JSONArray tagsArray = response.optJSONArray(&quot;tags&quot;);</span>

<span class="nc bnc" id="L118" title="All 2 branches missed.">                    if (albumIds != null) fetchAlbums(albumIds);</span>
<span class="nc bnc" id="L119" title="All 2 branches missed.">                    if (trackIds != null) fetchSongs(trackIds);</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">                    if (tagsArray != null) displayTags(tagsArray);</span>

<span class="nc" id="L122">                },</span>
                error -&gt; {
<span class="nc" id="L124">                    Log.e(&quot;ArtistPage&quot;, &quot;Error fetching artist info&quot;, error);</span>
<span class="nc" id="L125">                    Toast.makeText(this, &quot;Error loading artist info&quot;, Toast.LENGTH_SHORT).show();</span>
<span class="nc" id="L126">                });</span>
<span class="nc" id="L127">        requestQueue.add(req);</span>
<span class="nc" id="L128">    }</span>

    /** Fetch albums in artist's discography **/
    private void fetchAlbums(JSONArray albumIds) {
<span class="nc" id="L132">        albumContainer.removeAllViews();</span>
<span class="nc bnc" id="L133" title="All 2 branches missed.">        for (int i = 0; i &lt; albumIds.length(); i++) {</span>
<span class="nc" id="L134">            int id = albumIds.optInt(i, -1);</span>
<span class="nc bnc" id="L135" title="All 2 branches missed.">            if (id == -1) continue;</span>

<span class="nc" id="L137">            String url = baseUrl + &quot;/music/albums/&quot; + id;</span>
<span class="nc" id="L138">            JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url, null,</span>
                    response -&gt; {
                        try {
<span class="nc" id="L141">                            View card = createCard(response, true);</span>
<span class="nc" id="L142">                            albumContainer.addView(card);</span>
<span class="nc" id="L143">                        } catch (Exception e) {</span>
<span class="nc" id="L144">                            e.printStackTrace();</span>
<span class="nc" id="L145">                        }</span>
<span class="nc" id="L146">                    },</span>
<span class="nc" id="L147">                    error -&gt; Log.e(&quot;ArtistPage&quot;, &quot;Error fetching album &quot; + id, error));</span>
<span class="nc" id="L148">            requestQueue.add(req);</span>
        }
<span class="nc" id="L150">    }</span>

    /** Fetch songs in artist's discography **/
    private void fetchSongs(JSONArray songIds) {
<span class="nc" id="L154">        songContainer.removeAllViews();</span>
<span class="nc bnc" id="L155" title="All 2 branches missed.">        for (int i = 0; i &lt; songIds.length(); i++) {</span>
<span class="nc" id="L156">            int id = songIds.optInt(i, -1);</span>
<span class="nc bnc" id="L157" title="All 2 branches missed.">            if (id == -1) continue;</span>

<span class="nc" id="L159">            String url = baseUrl + &quot;/music/tracks/&quot; + id;</span>
<span class="nc" id="L160">            JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url, null,</span>
                    response -&gt; {
                        try {
<span class="nc" id="L163">                            View card = createCard(response, false);</span>
<span class="nc" id="L164">                            songContainer.addView(card);</span>
<span class="nc" id="L165">                        } catch (Exception e) {</span>
<span class="nc" id="L166">                            e.printStackTrace();</span>
<span class="nc" id="L167">                        }</span>
<span class="nc" id="L168">                    },</span>
<span class="nc" id="L169">                    error -&gt; Log.e(&quot;ArtistPage&quot;, &quot;Error fetching song &quot; + id, error));</span>
<span class="nc" id="L170">            requestQueue.add(req);</span>
        }
<span class="nc" id="L172">    }</span>

    /** Create a card for album or song **/
    private LinearLayout createCard(JSONObject item, boolean isAlbum) {
<span class="nc" id="L176">        LinearLayout card = new LinearLayout(this);</span>
<span class="nc" id="L177">        card.setOrientation(LinearLayout.HORIZONTAL);</span>
<span class="nc" id="L178">        card.setPadding(16, 16, 16, 16);</span>

<span class="nc" id="L180">        ImageView img = new ImageView(this);</span>
<span class="nc" id="L181">        img.setLayoutParams(new LinearLayout.LayoutParams(200, 200));</span>
<span class="nc" id="L182">        card.addView(img);</span>

        // Text container
<span class="nc" id="L185">        LinearLayout textBox = new LinearLayout(this);</span>
<span class="nc" id="L186">        textBox.setOrientation(LinearLayout.VERTICAL);</span>
<span class="nc" id="L187">        textBox.setPadding(16, 0, 0, 0);</span>
<span class="nc" id="L188">        card.addView(textBox);</span>

        // Name
<span class="nc" id="L191">        TextView name = new TextView(this);</span>
<span class="nc" id="L192">        name.setText(item.optString(&quot;name&quot;, &quot;Unknown&quot;));</span>
<span class="nc" id="L193">        name.setTextSize(18);</span>
<span class="nc" id="L194">        textBox.addView(name);</span>

<span class="nc" id="L196">        TextView artistText = new TextView(this);</span>
<span class="nc" id="L197">        artistText.setText(&quot;Loading artist...&quot;);</span>
<span class="nc" id="L198">        textBox.addView(artistText);</span>

<span class="nc" id="L200">        int id = item.optInt(&quot;id&quot;, -1);</span>

        // Navigate
<span class="nc" id="L203">        card.setOnClickListener(v -&gt; {</span>
<span class="nc bnc" id="L204" title="All 2 branches missed.">            Intent intent = new Intent(this, isAlbum ? AlbumsPage.class : SongsPage.class);</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">            intent.putExtra(isAlbum ? &quot;albumId&quot; : &quot;songId&quot;, id);</span>
<span class="nc" id="L206">            intent.putExtra(&quot;userId&quot;, userId);</span>
<span class="nc" id="L207">            startActivity(intent);</span>
<span class="nc" id="L208">        });</span>

<span class="nc bnc" id="L210" title="All 2 branches missed.">        if (isAlbum) {</span>
<span class="nc" id="L211">            Object albumArtObj = item.opt(&quot;albumArt&quot;);</span>
<span class="nc bnc" id="L212" title="All 4 branches missed.">            String albumArtBase64 = albumArtObj != null &amp;&amp; albumArtObj != JSONObject.NULL ? albumArtObj.toString() : null;</span>
<span class="nc" id="L213">            decodePicture(albumArtBase64, img);</span>
<span class="nc" id="L214">        } else {</span>
<span class="nc" id="L215">            JSONArray albumIds = item.optJSONArray(&quot;albumIds&quot;);</span>
<span class="nc bnc" id="L216" title="All 4 branches missed.">            if (albumIds != null &amp;&amp; albumIds.length() &gt; 0) {</span>
<span class="nc" id="L217">                int albumId = albumIds.optInt(0, -1);</span>
<span class="nc" id="L218">                loadAlbumArtForTrack(albumId, img);</span>
<span class="nc" id="L219">            } else {</span>
<span class="nc" id="L220">                img.setImageResource(R.drawable.imp3);</span>
            }
        }

        // Load artist names
<span class="nc" id="L225">        fetchArtistNames(item.opt(&quot;artistIds&quot;), artistText);</span>

<span class="nc" id="L227">        return card;</span>
    }

    /** Display tags in the UI **/
    private void displayTags(JSONArray tagsArray) {
<span class="nc" id="L232">        LinearLayout tagsContainer = findViewById(R.id.tagsContainer);</span>
<span class="nc" id="L233">        tagsContainer.removeAllViews();</span>

<span class="nc bnc" id="L235" title="All 2 branches missed.">        for (int i = 0; i &lt; tagsArray.length(); i++) {</span>
<span class="nc" id="L236">            String tag = tagsArray.optString(i, null);</span>
<span class="nc bnc" id="L237" title="All 2 branches missed.">            if (tag == null) continue;</span>

<span class="nc" id="L239">            TextView tagView = new TextView(this);</span>
<span class="nc" id="L240">            tagView.setText(tag);</span>
<span class="nc" id="L241">            tagView.setPadding(8, 4, 8, 4);</span>
<span class="nc" id="L242">            tagView.setBackgroundResource(R.drawable.tag_background); // optional rounded bg</span>
<span class="nc" id="L243">            tagsContainer.addView(tagView);</span>
        }
<span class="nc" id="L245">    }</span>

    private void decodePicture(Object picObj, ImageView imageView) {
<span class="nc bnc" id="L248" title="All 4 branches missed.">        if (picObj == null || picObj == JSONObject.NULL) {</span>
<span class="nc" id="L249">            imageView.setImageResource(R.drawable.imp3);</span>
<span class="nc" id="L250">            return;</span>
        }

        try {
            byte[] bytes;

<span class="nc bnc" id="L256" title="All 2 branches missed.">            if (picObj instanceof JSONArray) {</span>
<span class="nc" id="L257">                JSONArray arr = (JSONArray) picObj;</span>
<span class="nc" id="L258">                bytes = new byte[arr.length()];</span>
<span class="nc bnc" id="L259" title="All 2 branches missed.">                for (int i = 0; i &lt; arr.length(); i++) {</span>
<span class="nc" id="L260">                    bytes[i] = (byte)(arr.getInt(i) &amp; 0xFF);  // &lt;-- IMPORTANT: mask to 0â€“255</span>
                }
<span class="nc bnc" id="L262" title="All 2 branches missed.">            } else if (picObj instanceof String) {</span>
<span class="nc" id="L263">                bytes = android.util.Base64.decode((String) picObj, android.util.Base64.DEFAULT);</span>
            } else {
<span class="nc" id="L265">                imageView.setImageResource(R.drawable.imp3);</span>
<span class="nc" id="L266">                return;</span>
            }

<span class="nc" id="L269">            Bitmap bmp = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);</span>
<span class="nc bnc" id="L270" title="All 2 branches missed.">            if (bmp != null) imageView.setImageBitmap(bmp);</span>
<span class="nc" id="L271">            else imageView.setImageResource(R.drawable.imp3);</span>

<span class="nc" id="L273">        } catch (Exception e) {</span>
<span class="nc" id="L274">            e.printStackTrace();</span>
<span class="nc" id="L275">            imageView.setImageResource(R.drawable.imp3);</span>
<span class="nc" id="L276">        }</span>
<span class="nc" id="L277">    }</span>

    /** Fetch artist names for the card **/
    private void fetchArtistNames(Object artistIds, TextView artistTextView) {

<span class="nc bnc" id="L282" title="All 4 branches missed.">        if (artistIds == null || artistIds == JSONObject.NULL) {</span>
<span class="nc" id="L283">            artistTextView.setText(&quot;Unknown&quot;);</span>
<span class="nc" id="L284">            return;</span>
        }

        // Case A: JSONArray of IDs
<span class="nc bnc" id="L288" title="All 2 branches missed.">        if (artistIds instanceof JSONArray) {</span>
<span class="nc" id="L289">            JSONArray arr = (JSONArray) artistIds;</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">            if (arr.length() == 0) {</span>
<span class="nc" id="L291">                artistTextView.setText(&quot;Unknown&quot;);</span>
<span class="nc" id="L292">                return;</span>
            }

<span class="nc" id="L295">            final StringBuilder sb = new StringBuilder();</span>
<span class="nc" id="L296">            final int n = arr.length();</span>

<span class="nc bnc" id="L298" title="All 2 branches missed.">            for (int i = 0; i &lt; n; i++) {</span>
<span class="nc" id="L299">                final int idx = i;</span>
<span class="nc" id="L300">                final int aid = arr.optInt(i, -1);</span>
<span class="nc bnc" id="L301" title="All 2 branches missed.">                if (aid == -1) continue;</span>

<span class="nc" id="L303">                fetchArtistNameById(aid, name -&gt; {</span>
                    // append with comma when needed
<span class="nc bnc" id="L305" title="All 2 branches missed.">                    if (sb.length() &gt; 0) sb.append(&quot;, &quot;);</span>
<span class="nc" id="L306">                    sb.append(name);</span>
<span class="nc" id="L307">                    artistTextView.setText(sb.toString());</span>
<span class="nc" id="L308">                });</span>
            }
<span class="nc" id="L310">            return;</span>
        }

<span class="nc bnc" id="L313" title="All 2 branches missed.">        if (artistIds instanceof Number) {</span>
<span class="nc" id="L314">            int id = ((Number) artistIds).intValue();</span>
<span class="nc" id="L315">            fetchArtistNameById(id, artistTextView::setText);</span>
<span class="nc" id="L316">            return;</span>
        }

        try {
<span class="nc" id="L320">            int id = Integer.parseInt(artistIds.toString());</span>
<span class="nc" id="L321">            fetchArtistNameById(id, artistTextView::setText);</span>
<span class="nc" id="L322">        } catch (Exception e) {</span>
<span class="nc" id="L323">            artistTextView.setText(&quot;Unknown&quot;);</span>
<span class="nc" id="L324">        }</span>
<span class="nc" id="L325">    }</span>

    /** Fetch a single artist's name by id and return it via callback **/
    private void fetchArtistNameById(int artistId, NameCallback callback) {
<span class="nc bnc" id="L329" title="All 2 branches missed.">        if (artistId == -1) {</span>
<span class="nc" id="L330">            callback.onName(&quot;Unknown&quot;);</span>
<span class="nc" id="L331">            return;</span>
        }

        // Check cache first
<span class="nc bnc" id="L335" title="All 2 branches missed.">        if (artistCache.containsKey(artistId)) {</span>
<span class="nc" id="L336">            callback.onName(artistCache.get(artistId));</span>
<span class="nc" id="L337">            return;</span>
        }

<span class="nc" id="L340">        String url = baseUrl + &quot;/music/artists/&quot; + artistId;</span>
<span class="nc" id="L341">        JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url, null,</span>
                response -&gt; {
<span class="nc" id="L343">                    String name = response.optString(&quot;name&quot;, &quot;Unknown&quot;);</span>
<span class="nc" id="L344">                    artistCache.put(artistId, name);</span>
<span class="nc" id="L345">                    callback.onName(name);</span>
<span class="nc" id="L346">                },</span>
                error -&gt; {
<span class="nc" id="L348">                    Log.e(&quot;ArtistPage&quot;, &quot;Error fetching artistId=&quot; + artistId, error);</span>
<span class="nc" id="L349">                    callback.onName(&quot;Unknown&quot;);</span>
<span class="nc" id="L350">                });</span>
<span class="nc" id="L351">        requestQueue.add(req);</span>
<span class="nc" id="L352">    }</span>

    /** Loads albumArt for a track by fetching its album **/
    private void loadAlbumArtForTrack(int albumId, ImageView img) {
<span class="nc bnc" id="L356" title="All 2 branches missed.">        if (albumId == -1) {</span>
<span class="nc" id="L357">            img.setImageResource(R.drawable.imp3);</span>
<span class="nc" id="L358">            return;</span>
        }

<span class="nc" id="L361">        String url = baseUrl + &quot;/music/albums/&quot; + albumId;</span>
<span class="nc" id="L362">        JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url, null,</span>
                response -&gt; {
<span class="nc" id="L364">                    Object albumArtObj = response.opt(&quot;albumArt&quot;);</span>
<span class="nc bnc" id="L365" title="All 4 branches missed.">                    String albumArtBase64 = albumArtObj != null &amp;&amp; albumArtObj != JSONObject.NULL ? albumArtObj.toString() : null;</span>
<span class="nc" id="L366">                    decodePicture(albumArtBase64, img);</span>
<span class="nc" id="L367">                },</span>
<span class="nc" id="L368">                error -&gt; img.setImageResource(R.drawable.imp3)</span>
        );
<span class="nc" id="L370">        requestQueue.add(req);</span>
<span class="nc" id="L371">    }</span>

    private void loadArtistPicture(String base64, ImageView imageView) {

<span class="nc bnc" id="L375" title="All 6 branches missed.">        if (base64 == null || base64.equals(&quot;null&quot;) || base64.isEmpty()) {</span>
<span class="nc" id="L376">            imageView.setImageResource(R.drawable.imp3);</span>
<span class="nc" id="L377">            return;</span>
        }

        try {
<span class="nc" id="L381">            byte[] bytes = Base64.decode(base64, Base64.DEFAULT);</span>

<span class="nc" id="L383">            Bitmap bmp = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);</span>

<span class="nc bnc" id="L385" title="All 2 branches missed.">            if (bmp != null) {</span>
<span class="nc" id="L386">                imageView.setImageBitmap(bmp);</span>
            } else {
<span class="nc" id="L388">                imageView.setImageResource(R.drawable.imp3);</span>
            }

<span class="nc" id="L391">        } catch (Exception e) {</span>
<span class="nc" id="L392">            e.printStackTrace();</span>
<span class="nc" id="L393">            imageView.setImageResource(R.drawable.imp3);</span>
<span class="nc" id="L394">        }</span>
<span class="nc" id="L395">    }</span>

    /** Simple callback interface used for returning an artist's name asynchronously */
    private interface NameCallback {
        void onName(String name);
    }
}


</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span>Generated by the Android Gradle plugin 8.13.0</div></body></html>